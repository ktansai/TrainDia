# 電車タイマー on M5Stack

![](https://lh3.googleusercontent.com/7ma4xeiimjoo_7ak7gZ0lmy4Gbtvtw_iMnl6-pRKuHZe9XYMhMpmXkOCvPSMOkPz652TyD_8TVKpeIYXpUZc2o0bP63d2kxS8g4GOjemIZsqupuKitGB0Z-TNeQ9k2-9YOtkOqm6Gkz-Z82Edt1rg_WESwRbiqFlWIBjTQyqHD2JAfhxAm3EfdK9UIwrhOw5b6lSxn8MzIxSnuFmrdHuRAzIzdQjMs0npf_1RrIw6QyV5XUGp8BUCmmA-_HvtXzG4JmYQ0RO4Vi9BhwcnRqEEZe8yqLIa5TY65SWpThTIlzpx2l7XBhuMG_xJElnlatgTm3uP6iQUicFs6_cXgOVoHmN1wY6T4w9bOH-1Xy5FHZz0RYA3hzPL4KT_gqK1xalYXqC4UeXtFqgfAv4L4arASDnm22m6OniYIKR0hetMXevu_6EYU1j9FG31UllV-zgDZwtCOianoYLpNj9Q-3Ucg50tesZWIvjyITaUwDbQGzFFbErt6MwZIunzyjqKq_qlzYtrC1eQClcDNTwIwqMp1pTASmuqNlXCneBkoPyttSZWQsUYjaBpMCIaW4I5qkIImIKzXf5b1R9Cu67YEy8Jn9dRRDUqU3rG7FJYU-vb_RmojC89ObVy1h63S43fmzsOTL7Q5biAN8XaNsAX8abCkhvZx9Ca7Li=w1578-h1183-no)

## 概要
あと何分で電車が発車するかを教えてくれます。
現在は鶴見小野駅(鶴見駅方面)のみに対応しています。
時刻表のCSVファイルを差し替えることで、他の駅にも対応可能です。

## 必要なもの
- M5Stack 
- microSD

## 仕組み
- M5stackがLambdaのAPIにGETリクエストを送ると、現在の時刻から近い電車の出発時刻を取得できます。
- M5StackはNTPで現在時刻を保持しており、出発時刻と比較して残り何分何秒かを計算して表示します。
- 描画時の背景画像はmicroSDカードに保存されています。
